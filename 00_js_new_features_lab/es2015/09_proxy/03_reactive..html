<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue ë°˜ì‘ì„± ë°ëª¨</title>
  </head>
  <body>
    <h1>ğŸ¯ Vue ìŠ¤íƒ€ì¼ ë°˜ì‘ì„±</h1>

    <div class="container">
      <div class="display" id="display">
        ë©”ì‹œì§€: <span id="message"></span><br />
        ì¹´ìš´íŠ¸: <span id="count"></span>
      </div>

      <input type="text" id="input" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
      <button onclick="increment()">ì¹´ìš´íŠ¸ ì¦ê°€</button>
    </div>

    <script>
      // 1. ë°˜ì‘ì„± ì‹œìŠ¤í…œ ë§Œë“¤ê¸°
      function reactive(target) {
        return new Proxy(target, {
          set(obj, property, value) {
            obj[property] = value;
            update(); // ë°ì´í„° ë³€ê²½ ì‹œ í™”ë©´ ì—…ë°ì´íŠ¸!
            return true;
          },
        });
      }

      // 2. ë°˜ì‘í˜• ë°ì´í„° ìƒì„±
      const state = reactive({
        message: "ì•ˆë…•í•˜ì„¸ìš”!",
        count: 0,
      });

      // 3. í™”ë©´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      function update() {
        document.getElementById("message").textContent = state.message;
        document.getElementById("count").textContent = state.count;
      }

      // 4. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      document.getElementById("input").addEventListener("input", (e) => {
        state.message = e.target.value; // Proxyê°€ ìë™ ê°ì§€!
      });

      function increment() {
        state.count++; // Proxyê°€ ìë™ ê°ì§€!
      }

      // 5. ì´ˆê¸° ë Œë”ë§
      update();
      document.getElementById("input").value = state.message;
    </script>
  </body>
</html>
